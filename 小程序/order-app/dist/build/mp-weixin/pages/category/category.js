"use strict";var e=require("../../common/vendor.js"),a=require("../../api/category.js");require("../../common/http.js");const t={__name:"category",setup(t){const o=e.getCurrentInstance(),r=e.ref([]),i=e.ref(0),u=e.ref(0),c=e.ref(0),n=e.ref(0),s=(a,t)=>{new Promise(((r,i)=>{e.index.createSelectorQuery().in(o).select("."+a).fields({size:!0},(e=>{e?o[t]=e.height:setTimeout((()=>{s(a)}),10)})).exec()}))};return e.onLoad((()=>{(async()=>{let e=await a.getCategoryListApi();e&&200==e.code&&(r.value=e.data)})()})),(a,t)=>({a:e.f(r.value,((a,t,o)=>({a:e.t(a.categoryName),b:t,c:e.n(u.value==t?"u-tab-item-active":""),d:t,e:e.o((e=>(async e=>{e!=u.value&&(u.value=e,0!=c.value&&0!=n.value||(await s("menu-scroll-view","menuHeight"),await s("u-tab-item","menuItemHeight")),i.value=e*n.value+n.value/2-c.value/2)})(t)),t)}))),b:i.value,c:e.f(r.value,((a,t,o)=>e.e({a:u.value==t},u.value==t?{b:e.f(a.goods,((a,t,o)=>({a:e.o((t=>(a=>{e.index.navigateTo({url:"../detail/detail?goods="+encodeURIComponent(JSON.stringify(a))})})(a))),b:a.goodsImage.split(",")[0],c:e.t(a.goodsName),d:t})))}:{},{c:t})))})}};var o=e._export_sfc(t,[["__scopeId","data-v-83c710da"]]);wx.createPage(o);
